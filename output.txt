add:
    MOV $S2 $S
    SUB #12 $S2
    MOV $A2 $S2
    ADD #4 $A2
    MEMR [4] $A2 $B
    MOV $B2 $S2
    ADD #0 $B2
    MEMR [4] $B2 $A
    ADD $B $A
    RET
test:
    MOV $S2 $S
    SUB #12 $S2
    MOV $A2 $S2
    ADD #4 $A2
    MEMR [4] $A2 $B
    MOV $B2 $S2
    ADD #0 $B2
    MEMR [4] $B2 $A
    ADD $B $A
    MEMW [4] $A #1073741824
    MOV $A2 $S2
    ADD #0 $A2
    MEMR [4] $A2 $B
    MOV #23 $A
    ADD $B $A
    MEMW [4] $A #1073741824
    MEMR [4] #1073741824 $A
    RET
main:
    MOV end $S
    MOV #5 $A
    MEMW [4] $A #1073741828
    MOV #10 $A
    MEMW [4] $A #1073741832
    PUSH #1073741828
    PUSH #1073741832
    CALL add
    MEMW [4] $A #1073741836
    PUSH #1073741828
    PUSH #1073741836
    CALL test
    MEMW [4] $A #1073741840
    MOV #0 $A
    RET
end:
